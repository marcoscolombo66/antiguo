{"version":3,"file":"src_app_registro_registro_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACkB;AAEpB;AAEyB;AAEvB;IAWlC,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW,EAAC,+DAAmB;YAC/B,+EAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,wDAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB/B,yDAAyD;AACP;AAET;AACA;AACQ;AAC+D;AACnD;AAClB;IAM9B,YAAY,SAAZ,YAAY;IAIzB,8GAA8G;IAC5G,YAAmB,OAAgB,EAC1B,EAAe,EACf,eAAgC,EAChC,MAAc,EAAS,IAAgB;QAH7B,YAAO,GAAP,OAAO,CAAS;QAC1B,OAAE,GAAF,EAAE,CAAa;QACf,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAY;QAL/C,YAAO,GAAW,6DAAiB,CAAC;QAOjC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAChC,OAAO,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,CAAC,CAAC,EAAC,4DAAgB,CAAC,CAAC;YAC3E,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,QAAQ,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,QAAQ,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,EAAE,CAAC,EAAC,+DAAmB,EAAC,8DAAkB,CAAC,6BAA6B,CAAC,CAAC,CAAC;YAClI,QAAQ,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,SAAS,EAAC,CAAC,EAAE,EAAC,CAAC,+DAAmB,EAAC,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7D,EAAE;YACD,SAAS,EAAE,IAAI,CAAC,sBAAsB;SACvC,CAAC,CAAC;IACJ,CAAC;IACN,8GAA8G;IAC9G,sBAAsB,CAAC,SAAoB;QACzC,MAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QACjD,MAAM,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;QAEnD,OAAO,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC5D,CAAC;IACD,8GAA8G;IAC9G,QAAQ;QAEJ,gEAAgE;QAChE,MAAM,OAAO,GAAS,IAAI,6DAAW,CAAC,EAAC,cAAc,EAAG,0BAA0B,EAAC,CAAC,CAAC;QACrF,MAAM,OAAO,GAAS;YACpB,aAAa;YACb,gEAAgE;YAChE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO;YACxC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ;YAC1C,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM;YACtC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ;YAC1C,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ;SAC1C,CAAC;QACH,0CAA0C;QACzC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,kCAAkC,EAChE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;YAClC,+EAA+E;aAE9E,SAAS,CACT,CAAC,GAAQ,EAAE,EAAE;YACZ,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,GAAG,CAAC,CAAC;YAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;YACd,6BAA6B;YAC7B,mHAAmH;YACnH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,qCAAqC;QACtC,CAAC,CACA,CAAC;IACJ,CAAC;IACH,8GAA8G;IAC9G,SAAS;QACH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC;IACL,8GAA8G;IACpG,YAAY;;YAChB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,6CAA6C;gBACxD,OAAO,EAAE,OAAO;gBAChB,OAAO,EAAE,CAAC,SAAS,CAAC;aACrB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IACL,8GAA8G;IACpG,aAAa;;YACjB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,2BAA2B;gBACtC,OAAO,EAAE,yBAAyB;gBAClC,OAAO,EAAE,CAAC,SAAS,CAAC;aACrB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IACL,8GAA8G;IAC5G,QAAQ;IAGR,CAAC;CAEF;;YAvGQ,mDAAO;YAEP,uDAAW;YADX,2DAAe;YAFf,mDAAM;YAIP,4DAAU;;AAOL,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,qEAAmC;;KAEpC,CAAC;GACW,YAAY,CA6FxB;AA7FwB","sources":["./src/app/registro/registro-routing.module.ts","./src/app/registro/registro.module.ts","./src/app/registro/registro.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegistroPage } from './registro.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistroPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistroPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistroPageRoutingModule } from './registro-routing.module';\r\n\r\nimport { RegistroPage } from './registro.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    FormsModule,ReactiveFormsModule,\r\n    RegistroPageRoutingModule\r\n  ],\r\n  declarations: [RegistroPage]\r\n})\r\nexport class RegistroPageModule {}\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { FormBuilder,Validators,FormGroup,AbstractControl, ValidatorFn, ValidationErrors} from '@angular/forms';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport { AppConfig } from 'src/app/config';\r\n@Component({\r\n  selector: 'app-registro',\r\n  templateUrl: './registro.page.html',\r\n  styleUrls: ['./registro.page.scss'],\r\n})\r\nexport class RegistroPage implements OnInit {\r\n  public registroForm: FormGroup;\r\n   nuevo: any;\r\n   urlRoot: string = AppConfig.urlRoot;\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  constructor(public storage: Storage,\r\n    public fb: FormBuilder,\r\n    public alertController: AlertController,\r\n    public router: Router,private http: HttpClient)\r\n    {\r\n      this.registroForm = this.fb.group({\r\n        usuario:['',[Validators.required,Validators.minLength(5),Validators.email]],\r\n        nombre:['',[Validators.required,Validators.minLength(3)]],\r\n        apellido:['',[Validators.required,Validators.minLength(3)]],\r\n        whatsapp:['',[Validators.required,Validators.minLength(10),Validators.required,Validators.pattern('^-?[0-9]\\\\d*(\\\\.\\\\d{1,2})?$')]],\r\n        password:['',[Validators.required,Validators.minLength(6)]],\r\n        password2:['',[Validators.required,Validators.minLength(6)]],        \r\n      }, {\r\n        validator: this.passwordMatchValidator\r\n      });\r\n     }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\npasswordMatchValidator(formGroup: FormGroup) {\r\n  const password = formGroup.get('password').value;\r\n  const password2 = formGroup.get('password2').value;\r\n  \r\n  return password === password2 ? null : { mismatch: true };\r\n}\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\nregistro()\r\n  {\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    const headers: any\t\t= new HttpHeaders({'Content-Type' : 'application/octet-stream'});\r\n    const options: any\t\t= {\r\n      //idNEGOCIOS,\r\n      // eslint-disable-next-line @typescript-eslint/naming-convention\r\n      USUARIO: this.registroForm.value.usuario,\r\n      PASSWORD: this.registroForm.value.password,\r\n      NOMBRE: this.registroForm.value.nombre,\r\n      APELLIDO: this.registroForm.value.apellido,\r\n      TELEFONO: this.registroForm.value.whatsapp\r\n     };\r\n    //options \t: any\t\t= { \"idNEGOCIOS\": '1' };\r\n     (this.http.post(this.urlRoot+'/index.php/Api/registrarUsuario/',\r\n    JSON.stringify(options), headers))\r\n    //probar crear otra consulta q devuelva valores location y stopover en api php.\r\n\r\n    .subscribe(\r\n     (res: any) => {\r\n      console.log('registro',res);\r\n      this.presentAlert2();\r\n    },\r\n    (error: any) =>{\r\n     //console.log('error',error);\r\n     //this.presentAlert(' ¡Atención! ','Este vehiculo no esta registrado en el barrio.','Se recomienda llamar al 101');\r\n     console.log(error);\r\n     this.presentAlert();\r\n     //this.navCtrl.navigateRoot('/tab3');\r\n    }\r\n    );\r\n  }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\nloguearme(){\r\n      this.router.navigate(['/login']);\r\n    }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    async presentAlert() {\r\n      const alert = await this.alertController.create({\r\n        header: 'Alerta',\r\n        subHeader: 'Ya existe este usuario en la base de datos.',\r\n        message: 'Error',\r\n        buttons: ['Aceptar']\r\n      });\r\n\r\n      await alert.present();\r\n    }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    async presentAlert2() {\r\n      const alert = await this.alertController.create({\r\n        header: 'Alerta',\r\n        subHeader: 'Se registro correctamente',\r\n        message: 'Ya puede iniciar sesion',\r\n        buttons: ['Aceptar']\r\n      });\r\n\r\n      await alert.present();\r\n    }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  ngOnInit()\r\n  {\r\n\r\n  }\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}