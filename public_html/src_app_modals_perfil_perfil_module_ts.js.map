{"version":3,"file":"src_app_modals_perfil_perfil_module_ts.js","mappings":"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","sources":["./src/app/modals/perfil/perfil-routing.module.ts","./src/app/modals/perfil/perfil.module.ts","./src/app/modals/perfil/perfil.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PerfilPage } from './perfil.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PerfilPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PerfilPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PerfilPageRoutingModule } from './perfil-routing.module';\r\n\r\nimport { PerfilPage } from './perfil.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    FormsModule,ReactiveFormsModule,    \r\n    PerfilPageRoutingModule\r\n  ],\r\n  declarations: [PerfilPage]\r\n})\r\nexport class PerfilPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IniciarusuarioService } from '../../iniciarusuario.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { FormBuilder,Validators,FormGroup } from '@angular/forms';\r\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport { ToastController, NavController } from '@ionic/angular';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Location } from \"@angular/common\";\r\nimport { AppConfig } from 'src/app/config';\r\n@Component({\r\n  selector: 'app-perfil',\r\n  templateUrl: './perfil.page.html',\r\n  styleUrls: ['./perfil.page.scss'],\r\n})\r\nexport class PerfilPage implements OnInit {\r\n  public registroForm: FormGroup;\r\n  data: any;\r\n  datosUsuario: any;\r\n  idUSUARIO: any;\r\n  okok: any;\r\n  usuario: any;\r\n  finalModalData: any;\r\n  // eslint-disable-next-line @typescript-eslint/naming-convention\r\n  FOTO_PERFIL: any;\r\n  // eslint-disable-next-line @typescript-eslint/naming-convention\r\n\tbandera: any;\r\n  urlRoot: string = AppConfig.urlRoot;\r\n  constructor(private location: Location,public modalCtrl: ModalController,public http: HttpClient,public menuCtrl: MenuController,\r\n    public toast: ToastController,public fb: FormBuilder,public storage: Storage,public inicia: IniciarusuarioService) {\r\n\r\n      this.inicia.verificar();\r\n\r\n    this.registroForm = this.fb.group({\r\n      nombre:['',[Validators.required,Validators.minLength(3)]],\r\n      apellido:['',[Validators.required,Validators.minLength(3)]],\r\n      whatsapp:['',[Validators.required,Validators.minLength(10),Validators.required,Validators.pattern('^-?[0-9]\\\\d*(\\\\.\\\\d{1,2})?$')]],\r\n      dni:['',[Validators.required,Validators.minLength(7)]],\r\n      direccion:['',[Validators.required,Validators.minLength(10)]],\r\n    });\r\n\r\n   }\r\n   closeMenu() {\r\n\r\n    this.menuCtrl.close();\r\n  }\r\n   async ngOnInit() {\r\n    this.inicia.verificar();\r\n    this.datosUsuario=  await this.inicia.getUser();    \r\n    this.datosUsuario=  await this.inicia.getUserProfile(this.datosUsuario[0].idUsuario);\r\n    this.datosUsuario.subscribe(data => {    \r\n    this.registroForm.controls.nombre.setValue(data[0].nombre);\r\n    this.registroForm.controls.apellido.setValue(data[0].apellido);\r\n    this.registroForm.controls.whatsapp.setValue(data[0].telefono);\r\n    this.registroForm.controls.dni.setValue(data[0].dni);    \r\n    this.registroForm.controls.direccion.setValue(data[0].direccion);\r\n    })         \r\n      }\r\n      \r\n      async guardar()\r\n      {\r\n\t  this.bandera='';\r\n        if (this.registroForm.value.nombre==='' || this.registroForm.value.nombre===undefined || this.registroForm.value.nombre===null){\r\n         this.bandera='- Nombre<br/>';\r\n        }\r\n        if (this.registroForm.value.whatsapp==='' || this.registroForm.value.whatsapp===undefined\r\n        || this.registroForm.value.whatsapp===null){\r\n        this.bandera='- Whatsapp<br/>';\r\n       }\r\n        \r\n        this.idUSUARIO= await this.inicia.getUser();\r\n        this.idUSUARIO=this.idUSUARIO['0'].idUsuario;\r\n\r\n        if(this.bandera!==''){\r\n          this.presentToast('<u><strong>Complete:</strong></u>  <br/>'+this.bandera,2000,'warning','warning-toast');\r\n        }\r\n\t\telse {\r\n    //////////////////////////////////RESERVA///////////////////////////////////////////\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    const headers: any\t\t= new HttpHeaders({'Content-Type' : 'application/octet-stream'});\r\n\r\n        const options: any\t\t= {\r\n          //idNEGOCIOS,\r\n          // eslint-disable-next-line @typescript-eslint/naming-convention\r\n          nombre: this.registroForm.value.nombre,\r\n          // eslint-disable-next-line @typescript-eslint/naming-convention\r\n          apellido: this.registroForm.value.apellido,\r\n          // eslint-disable-next-line @typescript-eslint/naming-convention\r\n          telefono: this.registroForm.value.whatsapp,\r\n          // eslint-disable-next-line @typescript-eslint/naming-convention\r\n          direccion: this.registroForm.value.direccion,\r\n          // eslint-disable-next-line @typescript-eslint/naming-convention\r\n         idUsuario: this.idUSUARIO,\r\n         dni: this.registroForm.value.dni,\r\n         };\r\n        //options \t: any\t\t= { \"idNEGOCIOS\": '1' };       \r\n         (this.http.post(this.urlRoot+'/index.php/Api/updateUsuario/',\r\n        JSON.stringify(options), headers))\r\n        //probar crear otra consulta q devuelva valores location y stopover en api php.\r\n\r\n        .subscribe(\r\n         (res: any) => {\r\n          this.presentToast(' Se guardaron los cambios!',2000,'checkmark','sucess-toast');\r\n        },\r\n        (error: any) =>{\r\n         if(this.bandera!==''){\r\n          this.presentToast(' ¡Atención! Ha ocurrido un error.<br/>Vuelva a intentarlo',2000,'warning','warning-toast');\r\n         console.log(error);\r\n          }\r\n        }\r\n        );\r\n      }\r\n      }\r\n\r\nasync presentToast(mensaje,duracion,icon,css) {\r\n  const toast = await this.toast.create({\r\n    message: mensaje,\r\n    duration: duracion,\r\n    icon,\r\n    cssClass: css,\r\n    position:'middle'\r\n  });\r\n  toast.present();\r\n}\r\nmyBackButton(){\r\n  this.location.back();\r\n}\r\n // eslint-disable-next-line @typescript-eslint/naming-convention\r\n \r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}